<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AnimatedList 组件预览</title>
    <script src="../libs/vue.js"></script>
    <link rel="stylesheet" href="../../dist/vue2bits.css" />
    <link rel="stylesheet" href="preview.css" />
    <style>
      /* 保持与参考文件一致的结构样式 */
      .demo-box {
        padding: 20px;
        margin: 20px 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
        background-color: #f9f9f9; /* 给demo盒子一个浅色背景，突出深色组件 */
      }

      .demo-box h3 {
        margin-top: 0;
        margin-bottom: 15px;
        color: #333;
      }

      /* 用于显示日志 */
      .log-box {
        margin-top: 10px;
        font-family: monospace;
        font-size: 12px;
        color: #666;
        background: #fff;
        padding: 5px;
        border: 1px solid #eee;
      }
    </style>
  </head>
  <body>
    <div id="app" style="display: flex">
      <div class="col" style="height: 100vh; width: 50%; overflow-y: auto;">
        <div class="demo-box">
          <animated-list
            :items="listItems"
            max-height="600px"
            main-background-color="#2d0a31"
            item-background-color="#4a1252"
            item-selected-background-color="#70207a"
            show-gradients=false
            @item-selected="handleItemSelected"
          ></animated-list>
        </div>
      </div>

      <div class="use">
        <h2>how to use</h2>
        <div class="usage-instructions">
          <h3>AnimatedList 组件使用说明</h3>

          <h4>1. 基本用法</h4>
          <p>在 HTML 中传入字符串数组即可生成带动画的滚动列表：</p>
          <pre><code>&lt;animated-list 
  :items="['Item 1', 'Item 2']"
&gt;&lt;/animated-list&gt;</code></pre>

          <h4>2. 可用属性</h4>
          <ul>
            <li>
              <strong>items</strong> (Array): 列表数据源数组。
            </li>
            <li>
              <strong>max-height</strong> (String): 列表最大高度，支持 CSS 单位（如 '400px', '50vh'），默认为 '400px'。
            </li>
            <li>
              <strong>show-gradients</strong> (Boolean): 是否显示上下渐变遮罩，默认为 true。
            </li>
            <li>
              <strong>enable-arrow-navigation</strong> (Boolean): 是否启用键盘导航，默认为 true。
            </li>
            <li>
              <strong>display-scrollbar</strong> (Boolean): 是否显示滚动条，默认为 true。
            </li>
            <li>
              <strong>main-background-color</strong> (String): 整体容器背景色，默认为 '#0b0b0b'。
            </li>
            <li>
              <strong>item-background-color</strong> (String): 列表项默认背景色，默认为 '#111'。
            </li>
            <li>
              <strong>item-selected-background-color</strong> (String): 列表项选中背景色，默认为 '#222'。
            </li>
          </ul>

          <h4>3. 事件</h4>
          <ul>
            <li><strong>itemSelected</strong>: 选中列表项时触发，参数为 (item, index)。</li>
          </ul>

          <h4>4. 依赖说明</h4>
          <p>本组件依赖 GSAP 实现平滑滚动动画。</p>
          <pre><code>&lt;script src="../libs/gsap.min.js"&gt;&lt;/script&gt;</code></pre>

          <h4>5. 完整示例</h4>
          <pre><code>&lt;animated-list
  :items="items"
  max-height="300px"
  main-background-color="#ffffff"
  item-background-color="#f0f0f0"
  item-selected-background-color="#e0e0e0"
  @item-selected="onSelect"
&gt;&lt;/animated-list&gt;</code></pre>
        </div>
        <div class="back-link">
          <a href="../">← Back to index</a>
        </div>
      </div>
    </div>

    <!-- 引入库文件 -->
    <script src="../libs/gsap.min.js"></script>
    <script src="../../dist/vue2bits.min.js"></script>
    
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        new Vue({
          el: "#app",
          data: {
            listItems: Array.from({ length: 15 }, (_, i) => `普通项目 #${i + 1}`),
            lastLog: ""
          },
          methods: {
            handleItemSelected(item, index) {
              this.lastLog = `选中了: ${item} (索引: ${index})`;
              console.log(this.lastLog);
            },
          },
        });
      });
    </script>
  </body>
</html>
