<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Antigravity 交互式背景效果演示</title>
    <script src="../libs/vue.js"></script>
    <link rel="stylesheet" href="../../dist/vue2bits.css">
    <link rel="stylesheet" href="preview.css">
    <style>
        /* 背景容器样式 */
        .background-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0; /* 调整层级到内容下方但高于普通背景 */
        }
        
        /* 内容样式 */
        .content {
            position: relative;
            z-index: 1;
            padding: 20px;
            color: white;
            text-align: center;
            pointer-events: none; /* 允许鼠标事件穿透到背景 */
        }
        
        .content > * {
            pointer-events: auto; /* 重新启用内容元素的鼠标事件 */
        }
        
        .content h1 {
            font-size: 3em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
        }
        
        .content p {
            font-size: 1.2em;
            max-width: 800px;
            margin: 0 auto;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
        }
        
        .demo-section {
            margin: 40px 0;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }
        
        /* 控制面板样式 */
        .controls-panel {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 2;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 10px;
            pointer-events: auto; /* 确保控制面板可交互 */
        }
        
        .control-item {
            margin: 10px 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .control-item label {
            color: white;
            margin-right: 10px;
        }
        
        .control-item input {
            flex: 1;
            max-width: 150px;
        }
    </style>
</head>

<body>
    <div id="app">
        <!-- Antigravity 背景 -->
        <div class="background-container">
            <antigravity 
                :count="count"
                :magnet-radius="magnetRadius"
                :ring-radius="ringRadius"
                :wave-speed="waveSpeed"
                :color="color"
                :auto-animate="autoAnimate"
                :rotation-speed="rotationSpeed"
                :particle-size="particleSize"
                :field-strength="fieldStrength"
                :particle-variance="particleVariance">
            </antigravity>
        </div>
        
        <!-- 页面内容 -->
        <div class="content">
            <h1>Antigravity 做背景</h1>
            <p>这是一个使用 Antigravity 组件作为动态背景的示例。</p>
            
        </div>
        
        <!-- 控制面板 -->
        <div class="controls-panel">
            <h3>控制面板</h3>
            <div class="control-item">
                <label>粒子数量:</label>
                <input type="range" min="20" max="500" v-model.number="controls.count">
                <span>{{ controls.count }}</span>
            </div>
            <div class="control-item">
                <label>磁力半径:</label>
                <input type="range" min="1" max="20" v-model.number="controls.magnetRadius">
                <span>{{ controls.magnetRadius }}</span>
            </div>
            <div class="control-item">
                <label>波速:</label>
                <input type="range" min="0" max="1" step="0.01" v-model.number="controls.waveSpeed">
                <span>{{ controls.waveSpeed }}</span>
            </div>
            <div class="control-item">
                <label>旋转速度:</label>
                <input type="range" min="0" max="1" step="0.01" v-model.number="controls.rotationSpeed">
                <span>{{ controls.rotationSpeed }}</span>
            </div>
            <button @click="resetControls" style="margin-top: 10px; padding: 5px 10px; pointer-events: auto;">重置</button>
        </div>
    </div>

    <script src="../../dist/vue2bits.min.js"></script>
    <!-- 引入 THREE.js 库 -->
    <script src="../libs/three.min.js"></script>
    <script>
        // 确保 Vue 实例在 DOM 加载完成后创建
        document.addEventListener('DOMContentLoaded', function () {
            new Vue({
                el: '#app',
                data: {
                    controls: {
                        count: 200,
                        magnetRadius: 8,
                        ringRadius: 5,
                        waveSpeed: 0.2,
                        color: '#27FF64',
                        autoAnimate: true,
                        rotationSpeed: 0.1,
                        particleSize: 1.2,
                        fieldStrength: 5,
                        particleVariance: 0.5
                    }
                },
                computed: {
                    count() { return this.controls.count; },
                    magnetRadius() { return this.controls.magnetRadius; },
                    ringRadius() { return this.controls.ringRadius; },
                    waveSpeed() { return this.controls.waveSpeed; },
                    color() { return this.controls.color; },
                    autoAnimate() { return this.controls.autoAnimate; },
                    rotationSpeed() { return this.controls.rotationSpeed; },
                    particleSize() { return this.controls.particleSize; },
                    fieldStrength() { return this.controls.fieldStrength; },
                    particleVariance() { return this.controls.particleVariance; }
                },
                methods: {
                    resetControls() {
                        this.controls = {
                            count: 100,
                            magnetRadius: 8,
                            ringRadius: 5,
                            waveSpeed: 0.2,
                            color: '#27FF64',
                            autoAnimate: true,
                            rotationSpeed: 0.1,
                            particleSize: 1.2,
                            fieldStrength: 5,
                            particleVariance: 0.5
                        };
                    }
                }
            });
        });
    </script>
</body>
</html>